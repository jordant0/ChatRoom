<h1>Chat Room List</h1>

<div id='new-room-button'>
<button type="button" class="btn btn-primary">Create New Room</button>
</div>
<br><br>
<div class="row">
  <div class="col-lg-2">
    <div class="room-window">
      <table class='table table-hover'>
        <tr class="info">
          <th><b>Name</b></th>
          <th></th>
          <th></th>
        </tr>
       
        <% @rooms.each do |room| %>
          <tr>
            <td><%= room.name %></td>
            <td><%= button_to 'Go to Room', room_path(room), method: "get", class: "btn btn-xs btn-success", type: "button" %></td>
            <td><%= button_to 'Delete Room', room_path(room), method: "delete", class: "btn btn-xs btn-danger"  %></td>
          </tr>
        <% end %>
      </table>
    </div>
  </div>
</div>
<br>
<b>Current Users: <%= @current_user.name %><b>
<br><br>
<button type="button" class="btn btn-sm btn-danger">Change User</button>
<br><br>

<div id='new-room-form' class='modal fade' >
  <div class='modal-dialog'>
    <div class='modal-content' >
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
        <h4 class="modal-title">Enter New Room's Name</h4>
      </div>
      <div class="modal-body">
       <%= render 'form' %>
       </div>
    </div>
  </div>    
</div>

<div id='log-out-form' class='modal fade' >
  <div class='modal-dialog'>
    <div class='modal-content' >
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
        <h4 class="modal-title">Enter New Username</h4>
      </div>
      <div class="modal-body">
        <%= form_tag session_path, class: "form-horizontal" do |f| %>
          <div class="form-group">
            <label for="name" class="col-sm-2 control-label">Username</label>
            <div class="col-sm-6">
              <input class="form-control" id="name" name="name" placeholder="Username">
            </div>
          </div>
          <%= hidden_field_tag(:room_id, @room.id) %>
          <div class="form-group">
            <div class="col-sm-offset-2 col-sm-6">
              <button type="submit" class="btn btn-info">Sign in</button>
            </div>
          </div>
        <% end %>
      </div>
    </div>
  </div>    
</div>
